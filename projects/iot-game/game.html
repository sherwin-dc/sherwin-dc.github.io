<!DOCTYPE html>
<html class="no-js" lang="">
    <head>
        <!-- meta charset -->
        <meta charset="utf-8">
        <!-- site title -->
        <title>Phantom | Personal Resume Template</title>
        <!-- meta description -->
        <meta name="description" content="">
        <!-- mobile viwport meta -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- fevicon -->
        <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico">
        
        <!-- ================================
        CSS Files
        ================================= -->
        <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i|Open+Sans:400,600,700,800" rel="stylesheet">
        <link rel="stylesheet" href="../../css/themefisher-fonts.min.css">
        <link rel="stylesheet" href="../../css/owl.carousel.min.css">
        <link rel="stylesheet" href="../../css/bootstrap.min.css">
        <link rel="stylesheet" href="../../css/main.css">
        <link rel="stylesheet" href="../../css/dark.css">
        <link id="color-changer" rel="stylesheet" href="../../css/colors/color-0.css">
        <link rel="stylesheet" href="node_modules/xterm/css/xterm.css" />
        <script src="node_modules/xterm/lib/xterm.js"></script>
        <style>
           
            @font-face { 
          font-family: "square"; 
      
              /* Not IE */
              /* From: https://strlen.com/square/ , Creative Commons Attribution 3.0 Unported */
              src: url('./square.ttf');
              format("truetype");
              /* Not IE */
          }
          </style>
    </head>

    <body class="dark">

        <div class="preloader">
            <div class="loading-mask"></div>
            <div class="loading-mask"></div>
            <div class="loading-mask"></div>
            <div class="loading-mask"></div>
            <div class="loading-mask"></div>
        </div>

        <main class="site-wrapper">
            <div class="pt-table">
                <div class="pt-tablecell page-works relative">
                    <!-- .close -->
                    <a href="../../../works.html" class="page-close"><i class="tf-ion-close"></i></a>
                    <!-- /.close -->

                    
                    <div class="container">
                        <div class="row">
                            <div class="col-xs-12 col-md-offset-1 col-md-10 col-lg-offset-2 col-lg-8">
                                <div class="page-title text-center">
                                    <h3>IoT <span class="primary">Game</span> <span class="title-bg">Project</span></h3>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-12 col-md-offset-1 col-md-10 col-lg-offset-2 col-lg-8">
                                    <h3><span class="primary">Overview</span></h3>
                                    <p>This was a project to build a multiplayer game, using multiple FPGAs and a AWS Server.</p>
                                    <p>Up to 6 players would have an FPGA, and control their character by tilting the FPGA, which has
                                        a built in accelerometer. This information is relayed to the server, which sends the positions
                                        of all players to their computers to be displayed. Players compete to be the first to find 
                                        all the switches hidden throughout the map and complete short tasks on the FPGAs to activate 
                                        them (See below for a video on how this looked like).
                                    </p>

                                    <h3><span class="primary">Gameplay</span></h3>
                                    <p>Dont have an FPGA lying around? Fret not, as you now have the oppotunity to play the game right 
                                        here on this webpage. Thanks to WebAssembly, I was able to compile this C++ game for use in your
                                        browser, which was a mini project in itself. The game is single player only, and all you need to
                                        do is find all the Switches (green 'S') on the map. Use the WASD or arrow keys to move, and pick 
                                        up the red torches along the way to increase you field of vision.
                                    </p>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-12 col-md-offset-1 col-md-10 col-lg-offset-2 col-lg-8">
                                <div class="emscripten_border" style="display:none">
                                    <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()"></canvas>
                                </div>
                                <textarea class="emscripten" id="ta" style="display:none"></textarea>
                                
                            <div class="frame" id="gamewrapper" style="border:1px solid black;">
                                <div class="emscripten" id="output"></div>
                            </div>
                                
                            <style>
                                #output {
                                    -webkit-transform-origin: 0 0;
                                    transform-origin: 0 0;
                                } 
                            </style>
                            <script>
                                function rescale() {
                                    var gameElem = document.getElementById("output");
                                    var screenElem = document.getElementsByClassName("xterm-screen")[0];
                                    var frameElem = document.getElementById("gamewrapper");
                                    var ratio = frameElem.clientWidth / screenElem.clientWidth;
                                    gameElem.style.transform = "scale(" + ratio + ")";
                                    gameElem.style.webkitTransform = "scale(" + ratio + ")";
                                    frameElem.style.cssText = "height: " + gameElem.clientHeight * ratio + "px";
                                };
                                visualViewport.onresize = rescale;
                            </script>
                              
                                  
                            </div>
                        </div> 

                        <div class="row">
                            <div class="col-xs-12 col-md-offset-1 col-md-10 col-lg-offset-2 col-lg-8">
                                <br>
                                    <h3><span class="primary">Original Gameplay</span></h3>
                                    <p>This was the original game when played with an FPGA:</p>
                                    <video src="../../img/projects/iot-game.mp4" autoplay loop controls style="width:100%"></video>
                            </div>
                        </div>
                    </div> 

                    <!-- <nav class="page-nav clear">
                        <div class="container">
                            <div class="flex flex-middle space-between">
                                <span class="prev-page"><a href="index.html" class="link">&larr; Prev Page</a></span>
                                <span class="copyright hidden-xs">Copyright &copy; 2016 Phantom, All Rights Reserved.</span>
                                <span class="next-page"><a href="about.html" class="link">Next Page &rarr;</a></span>
                            </div>
                        </div>
                    </nav> -->
                    <!-- /.container -->

                </div> <!-- /.pt-tablecell -->
            </div> <!-- /.pt-table -->
        </main> <!-- /.site-wrapper -->
        
        <!-- ================================
        JavaScript Libraries
        ================================= -->
        <script src="../../js/vendor/jquery-2.2.4.min.js"></script>
        <script src="../../js/vendor/bootstrap.min.js"></script>
        <script src="../../js/jquery.easing.min.js"></script>
        <script src="../../js/isotope.pkgd.min.js"></script>
        <script src="../../js/jquery.nicescroll.min.js"></script>
        <script src="../../js/owl.carousel.min.js"></script>
        <script src="../../js/jquery-validation.min.js"></script>
        <script src="../../js/form.min.js"></script>
        <script src="../../js/main.js"></script>
        <script type='text/javascript'>
            var statusElement = document.getElementById('status');
            var progressElement = document.getElementById('progress');
            var spinnerElement = document.getElementById('spinner');
      
            const output = document.getElementById('output');
            let term = new Terminal({ fontFamily: 'square' });
            term.resize(160, 85);
            term.open(output);
            term.onKey(e => {
              term.lastkey = e.key;
            });
            var readline = function() {
                if (typeof term.lastkey == 'undefined') {
                    return null;
                } else {
                    var lastkey = term.lastkey;
                    term.lastkey = null;
                    return lastkey;
                }
                
            };
      
            var Module = {
              preRun: [function() {
      
                ENV.TERM = 'xterm';
      
              }],
              postRun: [],
              print: (stdout) => term.write(stdout),
              printErr: (stderr) => console.error('printErr:', stderr),
      
              canvas: (function() {
                var canvas = document.getElementById('canvas');
                // As a default initial behavior, pop up an alert when webgl context is lost. To make your
                // application robust, you may want to override this behavior before shipping!
                // See http://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15.2
                canvas.addEventListener("webglcontextlost", function(e) { alert('WebGL context lost. You will need to reload the page.'); e.preventDefault(); }, false);
                return canvas;
              })(),
      
            };
            
          </script>
          <script async type="text/javascript" src="game.js"></script>

    </body>
</html>

